# 部署文档

## 1. 下载代码
```bash
mkdir -p /data/milvus_knowledge_server
cd /data/milvus_knowledge_server
git clone https://github.com/aaasjp/dexiangzhipei_milvus.git

```

## 2. 启动Docker容器
```bash
docker run -itd \
  --name py310-milvus-server \
  -p 8005:8005 \
  --gpus all \
  -v /data/milvus_knowledge_server:/workspace \
  -w /workspace \
  -e TZ=Asia/Shanghai \
  python:3.10-slim \
  /bin/bash
```

**注意：** 不要使用 `--network host`，否则其他服务器无法访问8005端口。

## 3. 安装依赖
```bash
docker exec -it py310-milvus-server pip install -r requirements.txt
```

## 4. 启动服务
```bash
docker exec -it py310-milvus-server python vector_db_server.py
```

## 5. 配置说明
- 服务监听地址：`0.0.0.0:8005`（所有IP可访问）
- 配置文件：`config/config.json`

## 6. milvus管理端

docker run -p 8000:3000 -e MILVUS_URL=10.129.114.106:19530 zilliz/attu:v2.6

打开： http://10.129.114.106:8000 